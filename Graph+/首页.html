<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>首页</title>
  <style>
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
    }

    .iframe-outer {
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      display: flex;
      justify-content: center;
      background-color: #E0E0E0;
    }

    .iframe-wrapper {
      width: 100%;
      height: 100%;
      margin: 0 auto;
      transform-origin: center top;
      flex-shrink: 0;
    }

    #dynamicIframe {
      border: none;
      width: 100%;
      height: 100%;
    }
  </style>
  <script>
    const width = 1920
    const height = 1080
    const resolutionRatio = width && height ? width / height : 1
    const pageNameMap = {
      'home_page': '首页',
      'login_register_page': '登录注册',
      'registration_success_page': '注册成功',
      'password_reset_page': '找回密码',
      'graph_list_page': '图谱列表页',
      'graph_detail_page': '图谱详情页',
      'user_profile_page': '个人中心',
      'documentation_page': '文档',
      'about_page': '关于我们',
      'feedback_page': '用户反馈',
      'page_998124': '管理',
      'page_998125': '论坛'
    }
    function setIframeSize(w, h) {
      const currentContainerRadio = w / h
      let widthValue = w
      let heightValue = h
      let zoom = 1
      if (currentContainerRadio > resolutionRatio) {
        widthValue = h * resolutionRatio
        heightValue = h
      } else {
        widthValue = w
        heightValue = w / resolutionRatio
      }
      zoom = width ? widthValue / width : 1
      return {
        width: widthValue / zoom + 'px',
        height: heightValue / zoom + 'px',
        zoom,
      }
    }
    function adjustIframeSize() {
      const iframeWrapper = document.querySelector(".iframe-wrapper")
      if (!iframeWrapper) return
      iframeWrapper.style.width = '100%'
      iframeWrapper.style.height = window.innerHeight + 'px'
      iframeWrapper.style.transform = ''
    }
    function sanitizeFilename(name) {
      return name.replace(/[\/:*?"<>|]/g, '_')
    }
    function handlePostMessage(event) {
      if (!event.data) {
        return
      }
      const { type, targetPageId } = event.data
      const targetPageName = pageNameMap[targetPageId]
      if (type === "iframeNavigation" && targetPageId && targetPageName) {
        window.location.href = targetPageName + '.html'
      }
    }
    window.addEventListener('message', handlePostMessage)
    window.onload = adjustIframeSize
    window.onresize = adjustIframeSize
    window.onunload = () => {
      window.removeEventListener('message', handlePostMessage)
    }
  </script>
</head>

<body>
  <div class="iframe-outer">
    <div class="iframe-wrapper">
      <iframe id="dynamicIframe" srcdoc='<html lang="zh" data-theme="corporate"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页 - Graph+知识图谱平台</title>
    <link href="./assets/static/libs/daisyui@5.css" rel="stylesheet" type="text/css">
    <script src="./assets/static/libs/tailwind-browser@4.js"></script>
    <link href="./assets/static/libs/daisyui-themes.css" rel="stylesheet" type="text/css">
    <script src="./assets/3/3.1.1/iconify.min.js"></script>
    <style>
/* daisyUI Theme Variables Customization
* Based on the selected daisyUI theme and UI guidance requirements,
* customize only the CSS variables that need to be different from the theme defaults.
*/
:root {
/* Corporate theme customization for knowledge graph platform */
--color-primary: rgba(30, 58, 138, 1); /* Deep Blue #1E3A8A - 学院风深蓝 */
--color-primary-content: rgba(255, 255, 255, 1);
--color-secondary: rgba(37, 99, 235, 1); /* Medium Blue #2563EB */
--color-secondary-content: rgba(255, 255, 255, 1);
--color-accent: rgba(16, 185, 129, 1); /* Emerald Green #10B981 */
--color-accent-content: rgba(255, 255, 255, 1);
--color-base-100: rgba(255, 255, 255, 1);
--color-base-200: rgba(247, 249, 250, 1); /* #F7F9FA */
--color-base-300: rgba(229, 231, 235, 1); /* #E5E7EB */
--color-base-content: rgba(55, 65, 81, 1); /* #374151 */
--color-success: rgba(16, 185, 129, 1);
--color-warning: rgba(245, 158, 11, 1);
--color-error: rgba(239, 68, 68, 1);
--color-info: rgba(59, 130, 246, 1);
--radius-box: 0.375rem; /* 6px for micro-rounded corners */
--radius-field: 0.375rem;
--border: 1px;
}

/* Global component styles */
.transition-width {
transition: width 0.3s ease-in-out;
}

.nav-hover {
transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;
}

.shadow-soft {
box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
}

/* Header height consistency */
.header-height {
height: 64px;
}

/* Focus styles for accessibility */
.focus-primary:focus {
outline: 2px solid var(--color-primary);
outline-offset: 2px;
}

/* Academic style enhancements */
.academic-border {
border: var(--border) solid var(--color-base-300);
}

.hover-lift {
transition: transform 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.hover-lift:hover {
transform: translateY(-2px);
box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Professional grid spacing */
.academic-grid {
gap: 1.5rem;
}

/* Clean divider lines */
.academic-divider {
border-color: var(--color-base-300);
border-width: var(--border);
}
</style> <style>
/* Academic style enhancements for hero section */
.hero {
    background: linear-gradient(135deg, var(--color-base-100) 0%, var(--color-base-200) 100%);
}

/* Enhanced search input styling with academic borders */
.search-focus:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(30, 58, 138, 0.1);
}

/* Search suggestions styling with academic borders */
#searchSuggestions {
    animation: slideDown 0.2s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.suggestion-item {
    transition: background-color 0.15s ease-in-out;
    padding: 0.75rem 1rem;
    border-radius: var(--radius-field);
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.suggestion-item:hover {
    background-color: var(--color-base-200);
}

.suggestion-item .iconify {
    color: var(--color-primary);
    opacity: 0.7;
}

/* Academic style popular search tags with micro-rounded corners */
.badge-outline {
    transition: all 0.2s ease-in-out;
    font-weight: 500;
    border-radius: var(--radius-field);
}

.badge-outline:hover {
    transform: translateY(-1px);
    border-color: var(--color-primary);
    background-color: var(--color-primary);
    color: var(--color-primary-content);
    box-shadow: 0 2px 8px rgba(30, 58, 138, 0.15);
}

/* Enhanced card styling with academic borders and micro-rounded corners */
.card {
    transition: all 0.2s ease-out;
    border-radius: var(--radius-box);
}

.hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    border-color: var(--color-primary);
}

/* Card body enhancements with proper spacing */
.card-body {
    line-height: 1.5;
}

.card-title {
    line-height: 1.3;
    font-weight: 600;
}

/* Line clamp utility for descriptions */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Filter controls styling with academic borders */
.dropdown .btn {
    transition: all 0.15s ease-in-out;
    font-weight: 500;
    border-radius: var(--radius-field);
}

.dropdown .btn:hover {
    border-color: var(--color-primary);
    background-color: var(--color-primary);
    color: var(--color-primary-content);
}

.dropdown-content {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    margin-top: 0.25rem;
    border-radius: var(--radius-box);
}

.dropdown-content li a {
    transition: all 0.15s ease-in-out;
    padding: 0.5rem 0.75rem;
    border-radius: var(--radius-field);
}

.dropdown-content li a:hover {
    background-color: var(--color-primary);
    color: var(--color-primary-content);
}

/* Badge styling enhancements with proper contrast */
.badge {
    transition: all 0.15s ease-in-out;
    font-weight: 500;
    border-radius: var(--radius-field);
}

.badge-primary {
    background-color: var(--color-primary);
    color: var(--color-primary-content);
}

.badge-secondary {
    background-color: var(--color-secondary);
    color: var(--color-secondary-content);
}

.badge-accent {
    background-color: var(--color-accent);
    color: var(--color-accent-content);
}

.badge-info {
    background-color: var(--color-info);
    color: var(--color-base-100);
}

.badge-success {
    background-color: var(--color-success);
    color: var(--color-base-100);
}

.badge-warning {
    background-color: var(--color-warning);
    color: var(--color-base-100);
}

/* Favorite button enhancements with subtle animations */
.btn-circle:hover .iconify {
    transform: scale(1.1);
    transition: transform 0.15s ease-in-out;
}

.iconify.favorited {
    color: var(--color-error) !important;
}

/* Enhanced focus states for accessibility */
.focus-primary:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
    border-radius: var(--radius-field);
}

/* Search input container enhancements */
.join .input {
    border-right: none;
    border-radius: var(--radius-field) 0 0 var(--radius-field);
}

.join .input:focus {
    z-index: 10;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(30, 58, 138, 0.1);
}

.join .btn {
    border-left: none;
    border-radius: 0 var(--radius-field) var(--radius-field) 0;
}

/* Navigation bar enhancements */
.navbar {
    backdrop-filter: blur(8px);
}

.nav-hover {
    transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out;
    border-radius: var(--radius-field);
    padding: 0.5rem 1rem;
}

.nav-hover:hover {
    background-color: var(--color-base-200);
    color: var(--color-base-content);
}

/* Typography enhancements with proper hierarchy */
h1, h2, h3 {
    font-weight: 700;
    letter-spacing: -0.025em;
}

p {
    line-height: 1.6;
}

/* Enhanced button styling with micro-rounded corners */
.btn {
    border-radius: var(--radius-field);
    font-weight: 600;
    transition: all 0.15s ease-in-out;
}

.btn-outline:hover {
    border-color: var(--color-primary);
    background-color: var(--color-primary);
    color: var(--color-primary-content);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(30, 58, 138, 0.15);
}

/* Card figure image styling with subtle zoom effect */
.card figure img {
    transition: transform 0.2s ease-out;
}

.card:hover figure img {
    transform: scale(1.02);
}

/* Academic style spacing consistency - 8px grid system */
.academic-grid {
    gap: 1.5rem;
}

/* Clean linear icons styling */
.iconify {
    color: inherit;
    transition: color 0.15s ease-in-out;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .hero {
        padding-top: 3rem;
        padding-bottom: 3rem;
    }
    
    section {
        padding-top: 3rem;
        padding-bottom: 3rem;
    }
    
    .academic-grid {
        gap: 1rem;
    }
    
    .hero h1 {
        font-size: 2.5rem;
    }
    
    .hero p {
        font-size: 1.125rem;
    }
}

/* Extra small screens */
@media (max-width: 640px) {
    .header-height { height: 56px; }
    .hero h1 { font-size: 2rem; }
    .hero p { font-size: 1rem; }
    .join .input { height: 3rem; }
    .join .btn { height: 3rem; }
    .card figure img { height: 10rem; object-fit: cover; }
}

/* Enhanced shadow for elevated elements */
.shadow-soft {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06), 0 1px 4px rgba(0, 0, 0, 0.04);
}

/* Academic style dividers with proper contrast */
.academic-divider {
    border-color: var(--color-base-300);
    border-width: var(--border);
}

/* Clean typography with sufficient contrast */
.text-base-content {
    color: var(--color-base-content);
}

.text-base-content\/70 {
    color: rgba(55, 65, 81, 0.7);
}

.text-base-content\/60 {
    color: rgba(55, 65, 81, 0.6);
}

/* Professional spacing for content sections */
.max-w-7xl {
    max-width: 80rem;
}

.max-w-4xl {
    max-width: 56rem;
}

.max-w-3xl {
    max-width: 48rem;
}

.max-w-2xl {
    max-width: 42rem;
}

/* User avatar styling */
.avatar .w-10 {
    border-radius: 50%;
    font-size: 0.875rem;
}

/* Dropdown menu styling */
.dropdown-content {
    border: var(--border) solid var(--color-base-300);
}

.dropdown-content li a {
    color: var(--color-base-content);
}

.dropdown-content li a:hover {
    background-color: var(--color-base-200);
    color: var(--color-base-content);
}

.dropdown-content li a.text-error:hover {
    background-color: var(--color-error);
    color: var(--color-base-100);
}
</style>
<style>
#ic0f.spark-custom-ic0f {
  opacity: 1;
}

#ic0f.spark-custom-ic0f {
  background: none !important;
}

#ip1i9.spark-custom-ip1i9 {
  background-color: rgb(0, 0, 0);
}

</style>
<style>
#ic0f.spark-custom-ic0f {
  background-attachment: initial !important;
  background-clip: initial !important;
  background-color: initial !important;
  background-image: none !important;
  background-origin: initial !important;
  background-position-x: initial !important;
  background-position-y: initial !important;
  background-repeat: initial !important;
  background-size: initial !important;
  opacity: 1;
}

#ip1i9.spark-custom-ip1i9 {
  background-color: rgb(0, 0, 0);
}

</style>
<style>
#ic0f.spark-custom-ic0f {
  background-attachment: initial !important;
  background-clip: initial !important;
  background-color: initial !important;
  background-image: none !important;
  background-origin: initial !important;
  background-position-x: initial !important;
  background-position-y: initial !important;
  background-repeat: initial !important;
  background-size: initial !important;
  opacity: 1;
}

#ip1i9.spark-custom-ip1i9 {
  background-color: rgb(0, 0, 0);
}

</style>
  <script src="./assets/static/libs/25_6/holder.js"></script><style>
#ic0f.spark-custom-ic0f {
  background-attachment: initial !important;
  background-clip: initial !important;
  background-color: initial !important;
  background-image: none !important;
  background-origin: initial !important;
  background-position-x: initial !important;
  background-position-y: initial !important;
  background-repeat: initial !important;
  background-size: initial !important;
  opacity: 1;
}

#ip1i9.spark-custom-ip1i9 {
  background-color: rgb(0, 0, 0);
}

.i6rdk.spark-custom-i6rdk#i6rdk {
  font-size: 110px;
}

</style></head>
  <body class="bg-base-100 min-h-screen">
    <header id="ic0f" class="navbar text-base-content shadow-soft sticky top-0 z-50 header-height ic0f spark-custom-ic0f ic0f" style="background: none;">
      <div class="navbar-start">
        <div class="flex items-center gap-4">
          <button class="btn btn-ghost text-xl font-bold text-base-content hover:bg-base-content/10" onclick="navigateTo(&#39;home_page&#39;)">
            <span class="iconify" data-icon="heroicons:cube-transparent" data-width="28"></span>
            Graph+知识图谱平台
          </button>
          <!-- Mobile menu (visible on small screens) -->
          <div class="dropdown lg:hidden">
            <div tabindex="0" role="button" class="btn btn-ghost btn-sm">
              <span class="iconify" data-icon="heroicons:bars-3" data-width="22"></span>
            </div>
            <ul tabindex="0" class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-52 mt-2">
              <li><a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;home_page&#39;)">首页</a></li>
              <li><a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;graph_list_page&#39;)">探索</a></li>
              <li><a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;page_998125&#39;)">论坛</a></li>
              <li><a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;page_998124&#39;)">管理</a></li>
              <li><a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;documentation_page&#39;)">使用文档</a></li>
              <li><a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;about_page&#39;)">关于我们</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="navbar-center hidden lg:flex">
        <ul class="menu menu-horizontal px-1 gap-2">
          <li>
            <a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;home_page&#39;)">首页</a>
          </li>
          <li>
            <a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;graph_list_page&#39;)">探索</a>
          </li>
          <li>
            <a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;page_998125&#39;)">论坛</a>
          </li>
          <li>
            <a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;page_998124&#39;)">管理</a>
          </li>
          <li>
            <a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;documentation_page&#39;)">使用文档</a>
          </li>
          <li>
            <a class="nav-hover focus-primary text-base-content" onclick="navigateTo(&#39;about_page&#39;)">关于我们</a>
          </li>
        </ul>
      </div>
      <div class="navbar-end">
        <div class="flex items-center gap-4">
          <div data-user-control="logged-out" class="flex gap-2">
            <button class="btn btn-ghost btn-sm text-base-content hover:bg-base-content/10" onclick="navigateTo(&#39;login_register_page&#39;)">
              登录</button><button class="btn btn-outline btn-sm border-base-content text-base-content hover:bg-base-content hover:text-base-100" onclick="navigateTo(&#39;login_register_page&#39;)">
              注册
            </button>
          </div>
          <div data-user-control="logged-in" id="ihsxj" class="dropdown dropdown-end" style="display: none;">
            <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
              <div class="w-10 h-10 rounded-full bg-primary-content text-primary flex items-center justify-center text-sm font-bold">
                用户
              </div>
            </div>
            <ul tabindex="0" class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-52 mt-2">
              <li>
                <a class="text-base-content" onclick="navigateTo(&#39;user_profile_page&#39;)">个人资料</a>
              </li>
              <li>
                <a class="text-base-content" onclick="navigateTo(&#39;user_profile_page&#39;)">我的收藏</a>
              </li>
              <li>
                <a class="text-base-content" onclick="navigateTo(&#39;user_profile_page&#39;)">历史记录</a>
              </li>
              <li><hr class="academic-divider"></li>
              <li>
                <a class="text-error" onclick="APP_GLOBALS.user.logout()">退出登录</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <main class="min-h-screen">
      <!-- Hero Search Section -->
      <section id="ip1i9" class="hero bg-gradient-to-br from-base-100 to-base-200 py-24 ip1i9 spark-custom-ip1i9 ip1i9">
        <div class="hero-content text-center max-w-4xl mx-auto px-8">
          <div class="w-full">
            <h1 id="i6rdk" class="text-5xl font-bold text-base-content mb-6 leading-tight i6rdk spark-custom-i6rdk i6rdk">
              Graph+
            </h1>
            <p class="text-xl text-base-content/70 mb-12 max-w-2xl mx-auto leading-relaxed">
              发现知识的连接，探索智慧的网络
            </p>
            <!-- Search Container -->
            <div class="relative max-w-3xl mx-auto mb-8">
              <!-- Search Input with Button -->
              <div class="join w-full shadow-soft">
                <input type="text" placeholder="搜索知识图谱..." id="searchInput" autocomplete="off" class="input input-bordered join-item flex-1 text-lg focus-primary h-14 academic-border"><button class="btn btn-primary join-item px-8 h-14" onclick="performSearch()">
                  <span class="iconify" data-icon="heroicons:magnifying-glass" data-width="20"></span><span class="hidden md:inline ml-2">搜索</span>
                </button>
              </div>
              <!-- Search Suggestions Dropdown -->
              <div id="searchSuggestions" class="absolute top-full left-0 right-0 mt-2 bg-base-100 rounded-box shadow-lg academic-border z-50 hidden">
                <div class="p-3">
                  <div class="text-sm text-base-content/60 px-3 py-2 font-medium border-b academic-border">
                    搜索建议
                  </div>
                  <div id="suggestionsList" class="space-y-1 pt-2">
                    <!-- Dynamic suggestions will be inserted here -->
                  </div>
                </div>
              </div>
            </div>
            <!-- Popular Search Tags -->
            <div class="mt-12">
              <div class="text-base text-base-content/60 mb-6 font-medium">
                热门搜索
              </div>
              <div class="flex flex-wrap justify-center gap-3">
                <button class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2" onclick="searchTag(&#39;人工智能&#39;)">
                  人工智能</button><button class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2" onclick="searchTag(&#39;机器学习&#39;)">
                  机器学习</button><button class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2" onclick="searchTag(&#39;自然语言处理&#39;)">
                  自然语言处理</button><button class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2" onclick="searchTag(&#39;计算机视觉&#39;)">
                  计算机视觉</button><button class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2" onclick="searchTag(&#39;深度学习&#39;)">
                  深度学习
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Recommended Graphs Section -->
      <section class="py-24 px-8 bg-base-100 iz9wd spark-custom-iz9wd" id="iz9wd">
        <div class="max-w-7xl mx-auto">
          <!-- Section Header -->
          <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-base-content mb-6">推荐图谱</h2>
            <p class="text-xl text-base-content/70 max-w-2xl mx-auto leading-relaxed">
              精选优质知识图谱，助您快速发现感兴趣的内容
            </p>
          </div>
          <!-- Filter Controls -->
          <div class="flex flex-wrap justify-center gap-4 mb-12 p-6 bg-base-200 rounded-box academic-border">
            <div class="dropdown">
              <button tabindex="0" class="btn btn-outline gap-2 academic-border">
                <span class="iconify" data-icon="heroicons:funnel" data-width="16"></span>
                领域筛选
                <span class="iconify" data-icon="heroicons:chevron-down" data-width="16"></span>
              </button>
              <ul tabindex="0" class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-48 mt-1 academic-border">
                <li><a onclick="applyFilter(&#39;domain&#39;, &#39;all&#39;)">全部领域</a></li>
                <li><a onclick="applyFilter(&#39;domain&#39;, &#39;ai&#39;)">人工智能</a></li>
                <li>
                  <a onclick="applyFilter(&#39;domain&#39;, &#39;medical&#39;)">医学健康</a>
                </li>
                <li>
                  <a onclick="applyFilter(&#39;domain&#39;, &#39;finance&#39;)">金融经济</a>
                </li>
                <li>
                  <a onclick="applyFilter(&#39;domain&#39;, &#39;education&#39;)">教育学习</a>
                </li>
              </ul>
            </div>
            <div class="dropdown">
              <button tabindex="0" class="btn btn-outline gap-2 academic-border">
                <span class="iconify" data-icon="heroicons:clock" data-width="16"></span>
                时间筛选
                <span class="iconify" data-icon="heroicons:chevron-down" data-width="16"></span>
              </button>
              <ul tabindex="0" class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-48 mt-1 academic-border">
                <li><a onclick="applyFilter(&#39;time&#39;, &#39;all&#39;)">全部时间</a></li>
                <li><a onclick="applyFilter(&#39;time&#39;, &#39;week&#39;)">最近一周</a></li>
                <li><a onclick="applyFilter(&#39;time&#39;, &#39;month&#39;)">最近一月</a></li>
                <li><a onclick="applyFilter(&#39;time&#39;, &#39;year&#39;)">最近一年</a></li>
              </ul>
            </div>
            <div class="dropdown">
              <button tabindex="0" class="btn btn-outline gap-2 academic-border">
                <span class="iconify" data-icon="heroicons:fire" data-width="16"></span>
                热门程度
                <span class="iconify" data-icon="heroicons:chevron-down" data-width="16"></span>
              </button>
              <ul tabindex="0" class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-48 mt-1 academic-border">
                <li><a onclick="applyFilter(&#39;popularity&#39;, &#39;all&#39;)">全部</a></li>
                <li>
                  <a onclick="applyFilter(&#39;popularity&#39;, &#39;hot&#39;)">最热门</a>
                </li>
                <li>
                  <a onclick="applyFilter(&#39;popularity&#39;, &#39;views&#39;)">最多浏览</a>
                </li>
                <li>
                  <a onclick="applyFilter(&#39;popularity&#39;, &#39;favorites&#39;)">最多收藏</a>
                </li>
              </ul>
            </div>
          </div>
          <!-- Graph Cards Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 academic-grid">
            <!-- Graph Card 1 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/04f48952-70a4-4090-8c90-8084873c983a.png" alt="人工智能知识图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;ai-graph-001&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  人工智能知识图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  涵盖机器学习、深度学习、自然语言处理等AI核心领域的综合性知识图谱
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-primary badge-sm px-2 py-1">AI</div>
                  <div class="badge badge-secondary badge-sm px-2 py-1">
                    机器学习
                  </div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    1,250 节点 </span><span>2024-10-20</span>
                </div>
              </div>
            </div>
            <!-- Graph Card 2 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/e5e608a4-6e61-4e58-a1d4-6c1721457416.png" alt="医学知识图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;medical-graph-002&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  医学知识图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  整合疾病、药物、症状、治疗方案等医学信息的专业知识图谱
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-accent badge-sm px-2 py-1">医学</div>
                  <div class="badge badge-info badge-sm px-2 py-1">健康</div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    2,840 节点 </span><span>2024-10-18</span>
                </div>
              </div>
            </div>
            <!-- Graph Card 3 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/b89990d2-5326-4f3c-bdf4-9cef92d7a769.png" alt="金融知识图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;finance-graph-003&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  金融知识图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  包含公司关系、投资网络、风险评估等金融领域核心概念的知识图谱
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-warning badge-sm px-2 py-1">金融</div>
                  <div class="badge badge-success badge-sm px-2 py-1">投资</div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    3,120 节点 </span><span>2024-10-15</span>
                </div>
              </div>
            </div>
            <!-- Graph Card 4 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/b35d481d-3865-494c-90a3-3109a90cc854.png" alt="教育知识图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;edu-graph-004&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  教育知识图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  涵盖学科体系、课程关系、教学资源等教育领域的结构化知识网络
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-primary badge-sm px-2 py-1">教育</div>
                  <div class="badge badge-secondary badge-sm px-2 py-1">
                    学习
                  </div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    1,890 节点 </span><span>2024-10-12</span>
                </div>
              </div>
            </div>
            <!-- Graph Card 5 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/72d2bac1-9f26-4c01-9f83-c357a7f40504.png" alt="科技知识图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;tech-graph-005&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  科技创新图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  展示前沿科技发展趋势、创新企业关系及技术演进路径的知识网络
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-info badge-sm px-2 py-1">科技</div>
                  <div class="badge badge-accent badge-sm px-2 py-1">创新</div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    2,650 节点 </span><span>2024-10-10</span>
                </div>
              </div>
            </div>
            <!-- Graph Card 6 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/afe0b3fe-b90d-48ce-a23d-eada954978f2.png" alt="社会网络图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;social-graph-006&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  社会网络图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  分析社会关系、组织结构、影响力传播等社会现象的复杂网络模型
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-secondary badge-sm px-2 py-1">
                    社会
                  </div>
                  <div class="badge badge-warning badge-sm px-2 py-1">网络</div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    4,320 节点 </span><span>2024-10-08</span>
                </div>
              </div>
            </div>
            <!-- Graph Card 7 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/40845824-f286-42d0-8cb7-bfa8f71adfee.png" alt="环境知识图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;env-graph-007&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  环境知识图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  整合气候变化、生态系统、环保政策等环境科学领域的知识体系
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-success badge-sm px-2 py-1">环境</div>
                  <div class="badge badge-info badge-sm px-2 py-1">生态</div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    1,760 节点 </span><span>2024-10-05</span>
                </div>
              </div>
            </div>
            <!-- Graph Card 8 -->
            <div data-repeatable="true" data-type="card" class="card bg-base-100 shadow-soft hover-lift cursor-pointer academic-border" onclick="navigateTo(&#39;graph_detail_page&#39;)">
              <figure class="relative">
                <img loading="lazy" decoding="async" fetchpriority="low" src="https://spark-builder.s3.cn-north-1.amazonaws.com.cn/image/2025/10/28/a5ee714b-85ad-4f85-96eb-1f9b89684416.png" alt="文化遗产图谱封面" class="w-full h-44 object-cover"><button class="btn btn-circle btn-sm absolute top-3 right-3 bg-base-100/90 hover:bg-base-100 border-0 shadow-soft" onclick="event.stopPropagation(); toggleFavorite(&#39;culture-graph-008&#39;, this)">
                  <span class="iconify text-base-content/60 hover:text-error transition-colors" data-icon="heroicons:heart" data-width="16"></span>
                </button>
              </figure>
              <div class="card-body p-6">
                <h3 class="card-title text-lg font-semibold mb-3">
                  文化遗产图谱
                </h3>
                <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4">
                  记录历史文物、传统文化、艺术作品等人类文化遗产的知识网络
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                  <div class="badge badge-accent badge-sm px-2 py-1">文化</div>
                  <div class="badge badge-warning badge-sm px-2 py-1">历史</div>
                </div>
                <div class="flex items-center justify-between text-xs text-base-content/60">
                  <span class="flex items-center gap-1"><span class="iconify" data-icon="heroicons:cube" data-width="14"></span>
                    2,180 节点 </span><span>2024-10-02</span>
                </div>
              </div>
            </div>
          </div>
          <!-- View More Button -->
          <div class="text-center mt-16">
            <button class="btn btn-outline btn-lg px-8 py-3 academic-border" onclick="navigateTo(&#39;graph_list_page&#39;)">
              <span class="iconify" data-icon="heroicons:squares-plus" data-width="20"></span><span class="ml-2">查看更多图谱</span>
            </button>
          </div>
        </div>
      </section>
    </main>
    <div data-section-id="common_footer" data-section-type="common_footer">
<footer class="footer footer-center p-6 bg-base-200 text-base-content border-t academic-border">
<div class="grid grid-flow-col gap-4">
<a onclick="navigateTo(&#39;about_page&#39;)" class="link link-hover focus-primary">关于我们</a>
<a onclick="navigateTo(&#39;documentation_page&#39;)" class="link link-hover focus-primary">帮助中心</a>
<a onclick="navigateTo(&#39;feedback_page&#39;)" class="link link-hover focus-primary">用户反馈</a>
<a class="link link-hover focus-primary">隐私政策</a>
<a class="link link-hover focus-primary">服务条款</a>
</div>
<div class="grid grid-flow-col gap-4">
<a class="link link-hover focus-primary" aria-label="官方微信">
<span class="iconify" data-icon="simple-icons:wechat" data-width="20" style="color: var(--color-success);"></span>
</a>
<a class="link link-hover focus-primary" aria-label="企业QQ">
<span class="iconify" data-icon="simple-icons:tencentqq" data-width="20" style="color: var(--color-primary);"></span>
</a>
<a onclick="navigateTo(&#39;feedback_page&#39;)" class="link link-hover focus-primary" aria-label="意见反馈">
<span class="iconify" data-icon="heroicons:chat-bubble-left-right" data-width="20"></span>
</a>
</div>
<div class="text-center">
<p>© 2025 Graph+知识图谱平台. 版权所有 | <span class="text-primary font-medium">智慧知识发现与探索</span></p>
<p class="text-xs opacity-70 mt-1">反馈邮箱: feedback@knowledgegraph.com</p>
</div>
</footer>
</div><script>
(function() {
&#39;use strict&#39;;

// Initialize global namespace
window.APP_GLOBALS = window.APP_GLOBALS || {};

// Global navigation utility
window.navigateTo = function(targetPageId) {
const isInIframe = window.self !== window.top;
const targetFileName = `${targetPageId}.html`;

if (isInIframe) {
window.parent.postMessage({
type: &#39;iframeNavigation&#39;,
targetPageId: targetPageId
}, &#39;*&#39;);
} else {
window.location.href = targetFileName;
}
};

// User authentication state management
window.APP_GLOBALS.user = {
isLoggedIn: false,
userInfo: null,

login: function(userInfo) {
this.isLoggedIn = true;
this.userInfo = userInfo;
localStorage.setItem(&#39;userState&#39;, JSON.stringify({
isLoggedIn: true,
userInfo: userInfo
}));
this.updateUserInterface();
},

logout: function() {
this.isLoggedIn = false;
this.userInfo = null;
localStorage.removeItem(&#39;userState&#39;);
this.updateUserInterface();
navigateTo(&#39;home_page&#39;);
},

updateUserInterface: function() {
const userControls = document.querySelectorAll(&#39;[data-user-control]&#39;);
userControls.forEach(control => {
const controlType = control.getAttribute(&#39;data-user-control&#39;);
if (controlType === &#39;logged-out&#39; &amp;&amp; this.isLoggedIn) {
control.style.display = &#39;none&#39;;
} else if (controlType === &#39;logged-in&#39; &amp;&amp; !this.isLoggedIn) {
control.style.display = &#39;none&#39;;
} else {
control.style.display = &#39;&#39;;
}
});
},

init: function() {
const savedState = localStorage.getItem(&#39;userState&#39;);
if (savedState) {
const state = JSON.parse(savedState);
this.isLoggedIn = state.isLoggedIn;
this.userInfo = state.userInfo;
}
this.updateUserInterface();
}
};

// Search functionality
window.APP_GLOBALS.search = {
history: JSON.parse(localStorage.getItem(&#39;searchHistory&#39;) || &#39;[]&#39;),
recommendations: [&#39;人工智能&#39;, &#39;机器学习&#39;, &#39;自然语言处理&#39;, &#39;计算机视觉&#39;, &#39;深度学习&#39;],

addToHistory: function(query) {
if (query &amp;&amp; !this.history.includes(query)) {
this.history.unshift(query);
this.history = this.history.slice(0, 10); // Keep only last 10 searches
localStorage.setItem(&#39;searchHistory&#39;, JSON.stringify(this.history));
}
},

getSearchSuggestions: function() {
return this.history.length > 0 ? this.history : this.recommendations;
},

performSearch: function(query, targetPage = ' graph_list_page') { this.addToHistory(query); if
        (targetPage==='graph_list_page' ) { // 直接跳转并携带参数 const
        url=`${targetPage}.html?keyword=${encodeURIComponent(query)}`; const isInIframe=window.self !==window.top; if
        (isInIframe) { // 如果在iframe中，尝试通过postMessage (如果父级支持带参数的ID?) // 或者直接改变location (可能会被父级拦截?) // 简单起见，我们尝试直接跳转
        window.location.href=url; } else { window.location.href=url; } } else { navigateTo(targetPage); } } }; //
        Notification utilities window.showNotification=function(message, type=&#39;info&#39;) { const
        notification=document.createElement(&#39;div&#39;); notification.className=`alert alert-${type} fixed top-4
        right-4 w-96 z-50 shadow-lg`; notification.innerHTML=` <div class="flex items-center gap-2">
        <span class="iconify" data-icon="heroicons:information-circle-solid" data-width="20"></span>
        <span>${message}</span>
    </div>
    `;
    document.body.appendChild(notification);

    setTimeout(() => {
    notification.remove();
    }, 5000);
    };

    // Favorites management
    window.APP_GLOBALS.favorites = {
    items: JSON.parse(localStorage.getItem(&#39;favorites&#39;) || &#39;[]&#39;),

    add: function(graphId, graphData) {
    if (!this.items.find(item => item.id === graphId)) {
    this.items.push({
    id: graphId,
    data: graphData,
    addedAt: new Date().toISOString()
    });
    localStorage.setItem(&#39;favorites&#39;, JSON.stringify(this.items));
    showNotification(&#39;已添加到收藏&#39;, &#39;success&#39;);
    }
    },

    remove: function(graphId) {
    this.items = this.items.filter(item => item.id !== graphId);
    localStorage.setItem(&#39;favorites&#39;, JSON.stringify(this.items));
    showNotification(&#39;已从收藏中移除&#39;, &#39;info&#39;);
    },

    isFavorited: function(graphId) {
    return this.items.some(item => item.id === graphId);
    },

    toggle: function(graphId, graphData) {
    if (this.isFavorited(graphId)) {
    this.remove(graphId);
    } else {
    this.add(graphId, graphData);
    }
    }
    };

    // Initialize components when DOM is loaded
    document.addEventListener(&#39;DOMContentLoaded&#39;, function() {
    window.APP_GLOBALS.user.init();
    });

    })();
    </script>
    <script>
      document.addEventListener(&#39; DOMContentLoaded &#39;, function() {
        initializeSearchFunctionality();
        initializeFavorites();
        initializeFilters();
      });

      // Enhanced search functionality
      function initializeSearchFunctionality() {
        const searchInput = document.getElementById(&#39; searchInput &#39;);
        const suggestionsContainer = document.getElementById(&#39; searchSuggestions &#39;);
        const suggestionsList = document.getElementById(&#39; suggestionsList &#39;);

        // Show suggestions on input focus
        searchInput.addEventListener(&#39; focus &#39;, function() {
          showSearchSuggestions();
        });

        // Hide suggestions when clicking outside
        document.addEventListener(&#39; click &#39;, function(event) {
          if (!searchInput.contains(event.target) & amp;& amp; !suggestionsContainer.contains(event.target)) {
            hideSearchSuggestions();
          }
        });

        // Handle input changes with debouncing
        let searchTimeout;
        searchInput.addEventListener(&#39; input &#39;, function() {
          clearTimeout(searchTimeout);
          const query = this.value.trim();

          searchTimeout = setTimeout(() => {
            if (query.length > 0) {
              updateSearchSuggestions(query);
              showSearchSuggestions();
            } else {
              showDefaultSuggestions();
            }
          }, 300);
        });

        // Handle Enter key
        searchInput.addEventListener(&#39; keydown &#39;, function(event) {
          if (event.key === &#39; Enter &#39;) {
            event.preventDefault();
            performSearch();
          }
        });

        // Handle arrow key navigation in suggestions
        searchInput.addEventListener(&#39; keydown &#39;, function(event) {
          const suggestions = suggestionsList.querySelectorAll(&#39;.suggestion - item &#39;);
          let currentIndex = Array.from(suggestions).findIndex(item => item.classList.contains(&#39; active &#39;));

          if (event.key === &#39; ArrowDown &#39;) {
            event.preventDefault();
            currentIndex = currentIndex < suggestions.length - 1 ? currentIndex + 1 : 0;
            highlightSuggestion(suggestions, currentIndex);
          } else if (event.key === &#39; ArrowUp &#39;) {
            event.preventDefault();
            currentIndex = currentIndex > 0 ? currentIndex - 1 : suggestions.length - 1;
            highlightSuggestion(suggestions, currentIndex);
          } else if (event.key === &#39; Enter &#39; & amp;& amp; currentIndex >= 0) {
            event.preventDefault();
            suggestions[currentIndex].click();
          }
        });
      }

      function highlightSuggestion(suggestions, index) {
        suggestions.forEach((item, i) => {
          if (i === index) {
            item.classList.add(&#39; active &#39;);
        item.style.backgroundColor = &#39; var(--color - primary) &#39;;
        item.style.color = &#39; var(--color - primary - content) &#39;;
      } else {
        item.classList.remove(&#39; active &#39;);
        item.style.backgroundColor = &#39;&#39;;
        item.style.color = &#39;&#39;;
      }
    });
}

      function showSearchSuggestions() {
        const suggestionsContainer = document.getElementById(&#39; searchSuggestions &#39;);
        suggestionsContainer.classList.remove(&#39; hidden &#39;);
        showDefaultSuggestions();
      }

      function hideSearchSuggestions() {
        const suggestionsContainer = document.getElementById(&#39; searchSuggestions &#39;);
        suggestionsContainer.classList.add(&#39; hidden &#39;);
      }

      function showDefaultSuggestions() {
        const suggestionsList = document.getElementById(&#39; suggestionsList &#39;);
        const suggestions = window.APP_GLOBALS.search.getSearchSuggestions();

        suggestionsList.innerHTML = &#39;&#39;;
        suggestions.slice(0, 5).forEach(suggestion => {
          const isHistory = window.APP_GLOBALS.search.history.includes(suggestion);
          const icon = isHistory ? &#39; heroicons: clock &#39; : &#39; heroicons: magnifying - glass &#39;;
          const item = createSuggestionItem(suggestion, icon);
          suggestionsList.appendChild(item);
        });
      }

      function updateSearchSuggestions(query) {
        const suggestionsList = document.getElementById(&#39; suggestionsList &#39;);
        const allSuggestions = [
          ...window.APP_GLOBALS.search.history,
          ...window.APP_GLOBALS.search.recommendations
        ];
        const filtered = allSuggestions.filter(item =>
          item.toLowerCase().includes(query.toLowerCase())
        ).slice(0, 5);

        suggestionsList.innerHTML = &#39;&#39;;
        filtered.forEach(suggestion => {
          const isHistory = window.APP_GLOBALS.search.history.includes(suggestion);
          const icon = isHistory ? &#39; heroicons: clock &#39; : &#39; heroicons: magnifying - glass &#39;;
          const item = createSuggestionItem(suggestion, icon);
          suggestionsList.appendChild(item);
        });
      }

      function createSuggestionItem(text, iconName) {
        const item = document.createElement(&#39; div &#39;);
        item.className = &#39; suggestion - item &#39;;
        item.innerHTML = `
        <span class="iconify" data-icon="${iconName}" data-width="16"></span>
        <span class="flex-1">${text}</span>
    `;
        item.onclick = () => {
          document.getElementById(&#39; searchInput &#39;).value = text;
          performSearch();
        };
        return item;
      }

      function performSearch() {
        const query = document.getElementById(&#39; searchInput &#39;).value.trim();
        if (query) {
          window.APP_GLOBALS.search.performSearch(query);
          hideSearchSuggestions();
        }
      }

      function searchTag(tag) {
        document.getElementById(&#39; searchInput &#39;).value = tag;
        performSearch();
      }

      // Enhanced favorites functionality
      function initializeFavorites() {
        updateFavoriteButtons();
      }

      function toggleFavorite(graphId, buttonElement) {
        const iconElement = buttonElement.querySelector(&#39;.iconify &#39;);
        const isFavorited = window.APP_GLOBALS.favorites.isFavorited(graphId);

        // Mock graph data for demonstration
        const cardElement = buttonElement.closest(&#39;.card &#39;);
        const graphData = {
          id: graphId,
          title: cardElement.querySelector(&#39;.card - title &#39;).textContent,
          description: cardElement.querySelector(&#39; p&#39;).textContent,
            image: cardElement.querySelector(&#39; img &#39;).src
      };

      window.APP_GLOBALS.favorites.toggle(graphId, graphData);

      // Update button appearance with animation
      if (isFavorited) {
        iconElement.classList.remove(&#39; favorited &#39;);
        iconElement.setAttribute(&#39; data - icon &#39;, &#39; heroicons: heart &#39;);
        buttonElement.style.transform = &#39; scale(0.9) &#39;;
        setTimeout(() => {
          buttonElement.style.transform = &#39; scale(1) &#39;;
        }, 150);
      } else {
        iconElement.classList.add(&#39; favorited &#39;);
        iconElement.setAttribute(&#39; data - icon &#39;, &#39; heroicons: heart - solid &#39;);
        buttonElement.style.transform = &#39; scale(1.1) &#39;;
        setTimeout(() => {
          buttonElement.style.transform = &#39; scale(1) &#39;;
        }, 150);
      }
}

      function updateFavoriteButtons() {
        const favoriteButtons = document.querySelectorAll(&#39;[onclick *= "toggleFavorite"] &#39;);
        favoriteButtons.forEach(button => {
          const onclickAttr = button.getAttribute(&#39; onclick &#39;);
        const graphIdMatch = onclickAttr.match(/toggleFavorite\(&#39;([^&#39;]+)&#39;/);
        if (graphIdMatch) {
          const graphId = graphIdMatch[1];
          const iconElement = button.querySelector(&#39;.iconify &#39;);
          if (window.APP_GLOBALS.favorites.isFavorited(graphId)) {
            iconElement.classList.add(&#39; favorited &#39;);
            iconElement.setAttribute(&#39; data - icon &#39;, &#39; heroicons: heart - solid &#39;);
          } else {
            iconElement.classList.remove(&#39; favorited &#39;);
            iconElement.setAttribute(&#39; data - icon &#39;, &#39; heroicons: heart &#39;);
          }
        }
      });
}

      // Enhanced filter functionality
      function initializeFilters() {
        window.APP_GLOBALS.filters = {
          domain: &#39; all&#39;,
        time: &#39; all &#39;,
        popularity: &#39; all &#39;
      };
}

      function applyFilter(filterType, value) {
        window.APP_GLOBALS.filters[filterType] = value;

        // Update filter button text
        updateFilterButtonText(filterType, value);

        // Show notification about filter applied
        const filterLabels = {
          domain: &#39; 领域&#39;,
        time: &#39; 时间 &#39;,
        popularity: &#39; 热门程度 &#39;
      };

      const valueLabels = {
        all: &#39; 全部&#39;,
      ai: &#39; 人工智能 &#39;,
      medical: &#39; 医学健康 &#39;,
      finance: &#39; 金融经济 &#39;,
      education: &#39; 教育学习 &#39;,
      week: &#39; 最近一周 &#39;,
      month: &#39; 最近一月 &#39;,
      year: &#39; 最近一年 &#39;,
      hot: &#39; 最热门 &#39;,
      views: &#39; 最多浏览 &#39;,
      favorites: &#39; 最多收藏 &#39;
    };

      const filterLabel = filterLabels[filterType];
      const valueLabel = valueLabels[value] || value;

      showNotification(`已应用${filterLabel}筛选: ${valueLabel}`, &#39; info &#39;);

      // Simulate filter animation
      animateFilterResults();
}

      function updateFilterButtonText(filterType, value) {
        const filterButtons = document.querySelectorAll(&#39;.dropdown button &#39;);
        const filterTypeMap = {
          domain: 0,
          time: 1,
          popularity: 2
        };

        const buttonIndex = filterTypeMap[filterType];
        if (buttonIndex !== undefined & amp;& amp; filterButtons[buttonIndex]) {
          const button = filterButtons[buttonIndex];
          const textNodes = Array.from(button.childNodes).filter(node => node.nodeType === Node.TEXT_NODE);

          const valueLabels = {
            all: filterType === &#39; domain&#39; ? &#39; 领域筛选 &#39; : filterType === &#39; time &#39; ? &#39; 时间筛选 &#39; : &#39; 热门程度 &#39;,
          ai: &#39; 人工智能 &#39;,
          medical: &#39; 医学健康 &#39;,
          finance: &#39; 金融经济 &#39;,
          education: &#39; 教育学习 &#39;,
          week: &#39; 最近一周 &#39;,
          month: &#39; 最近一月 &#39;,
          year: &#39; 最近一年 &#39;,
          hot: &#39; 最热门 &#39;,
          views: &#39; 最多浏览 &#39;,
          favorites: &#39; 最多收藏 &#39;
        };

        if (textNodes.length > 0) {
          textNodes[0].textContent = valueLabels[value] || value;
        }
      }
}

      function animateFilterResults() {
        const cards = document.querySelectorAll(&#39;.card &#39;);
        cards.forEach((card, index) => {
          card.style.opacity = &#39; 0.6 &#39;;
          card.style.transform = &#39; scale(0.98) &#39;;

          setTimeout(() => {
            card.style.opacity = &#39; 1 &#39;;
            card.style.transform = &#39; scale(1) &#39;;
          }, index * 30 + 150);
        });
      }

      // Enhanced accessibility features
      document.addEventListener(&#39; keydown &#39;, function(event) {
        // ESC key to close dropdowns and suggestions
        if (event.key === &#39; Escape &#39;) {
          hideSearchSuggestions();

          // Close any open dropdowns
          const openDropdowns = document.querySelectorAll(&#39;.dropdown[open] &#39;);
          openDropdowns.forEach(dropdown => {
            dropdown.removeAttribute(&#39; open &#39;);
        });
      }
});
    </script>


    <script>
      setTimeout(() => {
        Holder.run({
          domain: "placehold.co"
        })
      }, 100)
    </script>
</body>

</html>'></iframe>
</div>
</div>

</body>

</html>