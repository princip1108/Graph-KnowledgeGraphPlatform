# 推荐功能调研报告

## 1. 图谱推荐功能 (首页 & 列表页)
"推荐"板块旨在展示最受欢迎的图谱（按浏览量），但目前实际显示的内容与"最新"板块完全一致。

**状态:** ⚠️ 发现缺陷 (Bug)

*   **预期行为**: 显示浏览量 (View Count) 最高的图谱。
*   **实际行为**: 显示最近修改 (Last Modified) 的图谱。
*   **根本原因**: 
    *   **前端**: `home.js` 请求接口 `/api/graph/public?sortBy=viewCount`。
    *   **后端**: `GraphService.java` 的 switch 语句仅能识别 `"views"` 字符串。
    *   **结果**: 参数不匹配导致 switch 进入 `default` 分支，从而错误地按 `lastModified` 排序。

## 2. 搜索推荐功能
**状态:** ✅ 正常工作 (功能简单)

*   **逻辑**: 搜索建议完全基于用户本地浏览器的 **搜索历史**。
*   **范围**: 目前没有"全站热搜"或"热门关键词"功能。

## 3. 热门图谱 API
**状态:** ✅ 可用但在主要页面未被利用

*   **接口**: `/api/graph/popular`
*   **逻辑**: 正确地按浏览量和收藏量排序获取热门图谱。
*   **使用情况**: 主要列表页面目前未使用此专用接口，而是依赖通用的搜索接口（且使用了错误的排序参数）。
