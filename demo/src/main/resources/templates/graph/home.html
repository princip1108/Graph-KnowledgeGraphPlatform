<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/base}">

<head>
    <title>首页 - GraphWisdom智汇星图</title>

    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/home.css}">
    </th:block>
</head>

<body>
    <div layout:fragment="content">
        <!-- Hero Search Section -->
        <section class="hero bg-gradient-to-br from-base-100 to-base-200 py-24">
            <div class="hero-content text-center max-w-4xl mx-auto px-8">
                <div class="w-full">
                    <h1 id="i6rdk" class="text-5xl font-bold text-base-content mb-6 leading-tight">
                        GraphWisdom智汇星图
                    </h1>
                    <p class="text-xl text-base-content/70 mb-12 max-w-2xl mx-auto leading-relaxed">
                        发现知识的连接，探索智慧的网络
                    </p>

                    <!-- Search Container -->
                    <div class="relative max-w-3xl mx-auto mb-8">
                        <div class="join w-full shadow-soft">
                            <input type="text" placeholder="搜索知识图谱..." id="searchInput" autocomplete="off"
                                class="input input-bordered join-item flex-1 text-lg focus-primary h-14 academic-border">
                            <button class="btn btn-primary join-item px-8 h-14" onclick="performSearch()">
                                <span class="iconify" data-icon="heroicons:magnifying-glass" data-width="20"></span>
                                <span class="hidden md:inline ml-2">搜索</span>
                            </button>
                        </div>

                        <!-- Search Suggestions Dropdown -->
                        <div id="searchSuggestions"
                            class="absolute top-full left-0 right-0 mt-2 bg-base-100 rounded-box shadow-lg academic-border z-50 hidden">
                            <div class="p-3">
                                <div
                                    class="text-sm text-base-content/60 px-3 py-2 font-medium border-b academic-border">
                                    搜索建议
                                </div>
                                <div id="suggestionsList" class="space-y-1 pt-2"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Popular Search Tags -->
                    <div class="mt-12">
                        <div class="text-base text-base-content/60 mb-6 font-medium">热门搜索</div>
                        <div class="flex flex-wrap justify-center gap-3">
                            <button
                                class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2"
                                onclick="searchTag('人工智能')">人工智能</button>
                            <button
                                class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2"
                                onclick="searchTag('机器学习')">机器学习</button>
                            <button
                                class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2"
                                onclick="searchTag('自然语言处理')">自然语言处理</button>
                            <button
                                class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2"
                                onclick="searchTag('计算机视觉')">计算机视觉</button>
                            <button
                                class="badge badge-outline badge-lg hover:badge-primary transition-all duration-200 px-4 py-2"
                                onclick="searchTag('深度学习')">深度学习</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recommended Graphs Section -->
        <section class="py-24 px-8 bg-base-100">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-base-content mb-6">推荐图谱</h2>
                    <p class="text-xl text-base-content/70 max-w-2xl mx-auto leading-relaxed">
                        精选优质知识图谱，助您快速发现感兴趣的内容
                    </p>
                </div>

                <!-- Filter Controls -->
                <div class="flex flex-wrap justify-center gap-4 mb-12 p-6 bg-base-200 rounded-box academic-border">
                    <div class="dropdown">
                        <button tabindex="0" class="btn btn-outline gap-2 academic-border">
                            <span class="iconify" data-icon="heroicons:funnel" data-width="16"></span>
                            领域筛选
                            <span class="iconify" data-icon="heroicons:chevron-down" data-width="16"></span>
                        </button>
                        <ul tabindex="0"
                            class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-48 mt-1 academic-border">
                            <li><a onclick="applyFilter('domain', 'all')">全部领域</a></li>
                            <li><a onclick="applyFilter('domain', 'ai')">人工智能</a></li>
                            <li><a onclick="applyFilter('domain', 'medical')">医学健康</a></li>
                            <li><a onclick="applyFilter('domain', 'finance')">金融经济</a></li>
                            <li><a onclick="applyFilter('domain', 'education')">教育学习</a></li>
                        </ul>
                    </div>
                    <div class="dropdown">
                        <button tabindex="0" class="btn btn-outline gap-2 academic-border">
                            <span class="iconify" data-icon="heroicons:clock" data-width="16"></span>
                            时间筛选
                            <span class="iconify" data-icon="heroicons:chevron-down" data-width="16"></span>
                        </button>
                        <ul tabindex="0"
                            class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-48 mt-1 academic-border">
                            <li><a onclick="applyFilter('time', 'all')">全部时间</a></li>
                            <li><a onclick="applyFilter('time', 'week')">最近一周</a></li>
                            <li><a onclick="applyFilter('time', 'month')">最近一月</a></li>
                            <li><a onclick="applyFilter('time', 'year')">最近一年</a></li>
                        </ul>
                    </div>
                    <div class="dropdown">
                        <button tabindex="0" class="btn btn-outline gap-2 academic-border">
                            <span class="iconify" data-icon="heroicons:fire" data-width="16"></span>
                            热门程度
                            <span class="iconify" data-icon="heroicons:chevron-down" data-width="16"></span>
                        </button>
                        <ul tabindex="0"
                            class="dropdown-content z-50 menu p-2 shadow-lg bg-base-100 rounded-box w-48 mt-1 academic-border">
                            <li><a onclick="applyFilter('popularity', 'all')">全部</a></li>
                            <li><a onclick="applyFilter('popularity', 'hot')">最热门</a></li>
                            <li><a onclick="applyFilter('popularity', 'views')">最多浏览</a></li>
                            <li><a onclick="applyFilter('popularity', 'favorites')">最多收藏</a></li>
                        </ul>
                    </div>
                </div>

                <!-- Graph Cards Grid -->
                <div id="recommendedGraphsGrid"
                    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 academic-grid">
                    <div class="col-span-full flex flex-col items-center justify-center py-16">
                        <span class="loading loading-spinner loading-lg text-primary"></span>
                        <p class="mt-4 text-base-content/60">加载推荐图谱...</p>
                    </div>
                </div>

                <!-- View More Button -->
                <div class="text-center mt-16">
                    <a href="/graph/graph_list.html" class="btn btn-outline btn-lg px-8 py-3 academic-border">
                        <span class="iconify" data-icon="heroicons:squares-plus" data-width="20"></span>
                        <span class="ml-2">查看更多图谱</span>
                    </a>
                </div>
            </div>
        </section>
    </div>

    <th:block layout:fragment="js">
        <script th:src="@{/assets/static/libs/25_6/holder.js}"></script>
        <script th:src="@{/js/home.js}"></script>

        <script>
            setTimeout(() => {
                if (typeof Holder !== 'undefined') {
                    Holder.run({ domain: "placehold.co" });
                }
            }, 100);
        </script>
    </th:block>
</body>

</html>