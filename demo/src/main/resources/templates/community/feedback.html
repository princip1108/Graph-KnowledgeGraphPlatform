<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/base}">

<head>
    <title>用户反馈 - Graph+知识图谱平台</title>
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/feedback.css}">
    </th:block>
</head>

<body>
    <div layout:fragment="content">
        <main class="flex-1 flex flex-col">
            <!-- 隐私政策简介区 -->
            <section class="bg-base-100 py-12">
                <div class="container mx-auto px-4 max-w-4xl text-center">
                    <h1 class="text-4xl font-bold text-base-content mb-4">用户反馈</h1>
                    <h2 class="text-xl text-base-content/70 mb-8">我们重视您的意见</h2>
                    <div class="bg-base-200 rounded-lg p-6 academic-border">
                        <p class="text-base-content/80 mb-4">
                            在您提交反馈之前，请阅读我们的隐私政策。我们承诺保护您的个人信息，您提供的反馈将仅用于改进我们的产品和服务。
                        </p>
                        <a href="#" class="link link-primary font-medium">
                            <span class="iconify mr-1" data-icon="heroicons:document-text" data-width="16"></span>
                            查看完整隐私政策
                        </a>
                    </div>
                </div>
            </section>
            
            <!-- 反馈表单区 -->
            <section class="bg-base-200 py-16">
                <div class="container mx-auto px-4 max-w-2xl">
                    <div class="card bg-base-100 shadow-xl academic-border">
                        <div class="card-body p-8">
                            <h3 class="card-title text-2xl mb-6 flex items-center gap-2">
                                <span class="iconify text-primary" data-icon="heroicons:chat-bubble-left-right" data-width="24"></span>
                                提供您的反馈
                            </h3>
                            <form id="feedbackForm" class="space-y-6">
                                <!-- 反馈类型选择 -->
                                <div class="form-control w-full">
                                    <label class="label pb-1">
                                        <span class="label-text font-medium text-base">反馈类型 <span class="text-error">*</span></span>
                                    </label>
                                    <input type="hidden" id="feedbackType" name="feedbackType" required>
                                    <div class="custom-dropdown" id="feedbackTypeDropdown">
                                        <div class="dropdown-trigger" tabindex="0">
                                            <span class="selected-text placeholder">请选择反馈类型</span>
                                            <span class="iconify chevron-icon" data-icon="heroicons:chevron-down" data-width="20"></span>
                                        </div>
                                        <div class="dropdown-menu">
                                            <div class="dropdown-item" data-value="bug">
                                                <span class="iconify item-icon" data-icon="heroicons:bug-ant" data-width="18"></span>
                                                <span>问题报告</span>
                                            </div>
                                            <div class="dropdown-item" data-value="feature">
                                                <span class="iconify item-icon" data-icon="heroicons:light-bulb" data-width="18"></span>
                                                <span>功能建议</span>
                                            </div>
                                            <div class="dropdown-item" data-value="general">
                                                <span class="iconify item-icon" data-icon="heroicons:chat-bubble-left-ellipsis" data-width="18"></span>
                                                <span>一般反馈</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 主题输入框 -->
                                <div class="form-control w-full">
                                    <label class="label pb-1">
                                        <span class="label-text font-medium text-base">主题 <span class="text-error">*</span></span>
                                    </label>
                                    <input type="text" placeholder="请简要描述您的反馈主题" required class="input input-bordered w-full focus-primary">
                                    <label class="label pt-1">
                                        <span class="label-text-alt text-base-content/50 text-xs">请用简洁的语言概括您的反馈内容</span>
                                    </label>
                                </div>
                                
                                <!-- 描述文本区域 -->
                                <div class="form-control w-full">
                                    <label class="label pb-1">
                                        <span class="label-text font-medium text-base">详细描述 <span class="text-error">*</span></span>
                                    </label>
                                    <textarea placeholder="请详细描述您遇到的问题或建议..." required class="textarea textarea-bordered w-full h-32 focus-primary"></textarea>
                                    <label class="label pt-1">
                                        <span class="label-text-alt text-base-content/50 text-xs">请提供尽可能详细的信息，以便我们更好地理解和处理您的反馈</span>
                                    </label>
                                </div>
                                
                                <!-- 联系邮箱输入框 -->
                                <div class="form-control w-full">
                                    <label class="label pb-1">
                                        <span class="label-text font-medium text-base">联系邮箱 <span class="text-error">*</span></span>
                                    </label>
                                    <input type="email" placeholder="your.email@example.com" required class="input input-bordered w-full focus-primary">
                                    <label class="label pt-1">
                                        <span class="label-text-alt text-base-content/50 text-xs">我们将通过此邮箱与您联系，请确保邮箱地址正确</span>
                                    </label>
                                </div>
                                
                                <!-- 文件上传区域 -->
                                <div class="form-control w-full">
                                    <label class="label pb-1">
                                        <span class="label-text font-medium text-base">附件上传</span>
                                        <span class="label-text-alt text-base-content/50">可选</span>
                                    </label>
                                    <div id="fileUploadArea" class="border-2 border-dashed border-base-300 rounded-lg p-6 text-center transition-colors hover:border-primary/50 cursor-pointer bg-base-50">
                                        <div class="flex flex-col items-center gap-2">
                                            <span class="iconify text-base-content/30" data-icon="heroicons:cloud-arrow-up" data-width="40"></span>
                                            <p class="text-base-content/60 text-sm">点击选择文件或拖拽文件到此处</p>
                                            <p class="text-xs text-base-content/40">支持图片、文档等格式，单个文件不超过10MB</p>
                                        </div>
                                        <input type="file" id="fileInput" multiple accept="image/*,.pdf,.doc,.docx,.txt" class="hidden">
                                    </div>
                                    <div id="fileList" class="mt-3 space-y-2"></div>
                                </div>
                                
                                <!-- 提交按钮 -->
                                <div class="form-control mt-8">
                                    <button type="submit" id="submitBtn" class="btn btn-primary btn-lg">
                                        <span class="iconify" data-icon="heroicons:paper-airplane" data-width="20"></span>
                                        提交反馈
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 联系信息区 -->
            <section class="bg-base-100 py-16">
                <div class="container mx-auto px-4 max-w-4xl">
                    <h3 class="text-2xl font-bold text-center mb-8 flex items-center justify-center gap-2">
                        <span class="iconify text-primary" data-icon="heroicons:phone" data-width="24"></span>
                        其他联系方式
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="card bg-base-200 shadow-soft academic-border hover-lift">
                            <div class="card-body text-center p-6">
                                <span class="iconify text-primary mb-3" data-icon="heroicons:phone" data-width="32"></span>
                                <h4 class="font-semibold mb-2">客服热线</h4>
                                <p class="text-lg font-mono">400-123-4567</p>
                                <p class="text-sm text-base-content/60 mt-2">工作日 9:00-18:00</p>
                            </div>
                        </div>
                        <div class="card bg-base-200 shadow-soft academic-border hover-lift">
                            <div class="card-body text-center p-6">
                                <span class="iconify text-primary mb-3" data-icon="heroicons:envelope" data-width="32"></span>
                                <h4 class="font-semibold mb-2">官方邮箱</h4>
                                <p class="text-lg">support@kgplatform.com</p>
                                <p class="text-sm text-base-content/60 mt-2">24小时内回复</p>
                            </div>
                        </div>
                        <div class="card bg-base-200 shadow-soft academic-border hover-lift">
                            <div class="card-body text-center p-6">
                                <span class="iconify text-primary mb-3" data-icon="heroicons:clock" data-width="32"></span>
                                <h4 class="font-semibold mb-2">办公时间</h4>
                                <p class="text-lg">周一至周五</p>
                                <p class="text-sm text-base-content/60 mt-2">9:00 - 18:00 (GMT+8)</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-12 text-center">
                        <div class="bg-info/10 rounded-lg p-6 academic-border">
                            <span class="iconify text-info mb-3" data-icon="heroicons:question-mark-circle" data-width="32"></span>
                            <h4 class="font-semibold mb-2 text-info">遇到常见问题？</h4>
                            <p class="text-base-content/70 mb-4">在提交反馈前，您可以先查看我们的帮助文档，可能已有解决方案。</p>
                            <a th:href="@{/pages/documentation.html}" class="btn btn-outline btn-info">
                                <span class="iconify" data-icon="heroicons:book-open" data-width="20"></span>
                                查看帮助文档
                            </a>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <th:block layout:fragment="js">
        <script th:src="@{/js/feedback.js}"></script>
    </th:block>
</body>

</html>
